
<!-- <ion-split-pane when="md" contentId="categoryMenu"> -->
  <!-- <app-menu #categoryMenu></app-menu> -->
  <!-- <div #resources> -->
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
          <!-- <ion-button [routerLink]="['/food']" [routerDirection]="'forward'">food</ion-button> -->
        </ion-buttons>
        <ion-title>Resources</ion-title>
        <ion-buttons *ngIf="isUserAdmin" slot="end">
          <!-- <ion-button slot="start" fill="outline" color="primary" routerLink="new-category"><ion-icon name="add" slot="icon-only"></ion-icon>Add Category</ion-button> -->
          <ion-button slot="end" color="primary" fill="clear" (click)="toggleManageMode()">
            <!-- <ion-label>Manage</ion-label> -->
            <!-- <ion-icon [name]="isManageModeOn ? 'checkmark-sharp' : 'create-outline'" slot="icon-only"></ion-icon> -->
            <!-- <ion-icon name="checkmark-sharp" slot="icon-only"></ion-icon> -->
            <ion-label>{{isManageModeOn ? "Done" : "Edit"}}</ion-label>
          </ion-button>

        </ion-buttons>
      </ion-toolbar>
      <ion-searchbar [disabled]="isLoading" placeholder="Search all resources" (keyUp.enter)="searchResources($event)">
      </ion-searchbar>
    </ion-header>

    <!-- <ion-fab *ngIf="isManageModeOn" vertical="top" horizontal="end" size="small">
      <ion-fab-button vertical="bottom" horizontal="end" size="small" routerLink="new-category" fill="outline">
        <ion-icon name="add"></ion-icon>
      </ion-fab-button>
    </ion-fab> -->
    
    <ion-content>
      <div *ngIf="isManageModeOn" class="ion-text-end">
        <ion-button fill="clear" routerLink="new-category">
          <ion-icon name="add" slot="icon-only"></ion-icon>
          <ion-label>New Category</ion-label>
        </ion-button>
      </div>
      <!-- <h2 *ngIf="isManageModeOn">Edit Mode On</h2> -->
      <!-- <ng-template #loading> -->
      <ion-list *ngIf="isLoading">
        <ion-item *ngFor="let _ of [1,2,3,4,5,6,7]">
          <ion-thumbnail slot="start">
            <ion-skeleton-text animated="true"></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h2>
              <ion-skeleton-text animated="true" style="width: 50%;"></ion-skeleton-text>
            </h2>
            <h2>
              <ion-skeleton-text animated="true" style="width: 30%;"></ion-skeleton-text>
            </h2>
          </ion-label>
        </ion-item>
      </ion-list>
      <!-- </ng-template> -->
      <ion-list *ngIf="categories">
        <ion-item size-md="8" *ngFor="let cat of categories" [routerLink]="goToResourcesOrEdit(cat)"
          [routerDirection]="'forward'" detail="!isManageModeOn">
          <ion-thumbnail slot="start">
            <ion-img [src]='cat.imageUrl || "assets/img/" +  cat.name + ".png"' alt=""></ion-img>
          </ion-thumbnail>
          <ion-label>
            <h2>{{cat.name | titlecase}}</h2>
          </ion-label>
          <!-- category info popover -->
          <!-- <ion-icon name="information-circle-outline" slot="end" id="info-trigger-{{cat._id}}"></ion-icon>
        <ion-popover trigger="info-trigger-{{cat._id}}" triggerAction="click">
            <ng-template>
              <ion-content>{{cat.description}}</ion-content>
            </ng-template>
        </ion-popover> -->
          <ion-button *ngIf="isManageModeOn" fill="clear">
            <ion-label>Edit</ion-label>
          </ion-button>
        </ion-item>
      </ion-list>
      <!-- <ion-grid>
      <ion-row class="ion-justify-content-center">
        <ion-col *ngFor="let cat of categories | async" ion-justify-content-center>
          <ion-card [routerLink]="goToResourcesOrEdit(cat)" [routerDirection]="'forward'" size-lg="3" size-md="4" size-xs="8">
            <ion-card-header>
              <ion-card-title text-wrap class="ion-text-center">
                {{cat.name | titlecase}}
              </ion-card-title>
            </ion-card-header>
            <ion-img src='{{cat.imageUrl || "assets/img/" +  cat.name + ".png"}}' alt=""></ion-img>
            <ion-card-content>{{cat.description}}</ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid> -->
      <!-- <div id='myMap' style='width: 100%; height: 24rem;'></div> -->
    </ion-content>
  <!-- </div> -->
<!-- </ion-split-pane> -->